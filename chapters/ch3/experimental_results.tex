\section{Experimental results}
\label{sec:ocpl_experimental}

In this section, the performed experiments are going to be described. Specifically, in  
Section~\ref{sec:ocpl_dataset} the dataset used for training procedure will be described. Section~\ref{sec:ocpl_results} will report the obtained results.
\subsection{Dataset}
\label{sec:ocpl_dataset}

\subsection{Results}
\label{sec:ocpl_results}
This section presents the obtained results, divided into two main blocks. The first block (Section~\ref{sec:ocpl_results_scm}) discusses the results of the method described in Section\ref{sec:ocpl_architecture_scm}. The second block (Section~\ref{sec:ocpl_results_dcm}) covers the results of the method described in \ref{sec:ocpl_architecture_dcm}. For each method, results are reported for two different scenarios: first, where the method is trained in a single-task multi-variation scenario; and second, where the method is trained in a multi-task multi-variation scenario.

The tests are conducted following the procedure outlined in Section \ref{sec:cod_results}. For each variation, 10 independent runs are performed, each with a novel initial objects configuration. This approach assesses the system robustness with respect to different initial state configurations. Additionally, each set of 10 rollouts is repeated three times to evaluate the overall robustness and consistency of the model.

Various evaluation metrics are considered, either generally defined for each task or task-specific. The general metrics include:

\begin{itemize}
    \item \textit{Reaching}: The ratio of successful attempts where the robot reaches the target object across all rollouts.
    \item \textit{Picking}: The ratio of successful attempts where the robot picks the correct object across all rollouts.
    \item \textit{Success}: The ratio of successful task completions across all rollouts.
    \item \textit{Reaching Wrong}: The ratio of instances where the robot reaches an object other than the target across all rollouts.
    \item \textit{Picking Wrong}: The ratio of instances where the robot picks the wrong object across all rollouts.
    \item \textit{Success with Wrong Object}: The ratio of task completions where the robot manipulates the wrong object.
\end{itemize}

Task-specific metrics, particularly for tasks like Pick-Place and Nut-Assembly, include:

\begin{itemize}
    \item \textit{Place Wrong with Wrong Object}: The number of times the robot completes the task by placing the wrong object in the wrong position.
    \item \textit{Place Wrong with Correct Object}: The number of times the robot completes the task by placing the correct object in the wrong position.
\end{itemize}

These metrics provide a comprehensive evaluation of the robot performance, capturing all major error cases and giving a full picture of its behavior.

\subsubsection{Single control module}
In this section the results obtained with the architecture composed of a Single Control Module will be described. As in Chapter \ref{ch:cod}, there are two testing scnearios, the first one trained with a single-task  multi-variation scenario, while the second one with a multi-task multi-variation setting, with an increasing level of complexity.
\label{sec:ocpl_results_scm}
\paragraph*{Single-task multi-variation scenario}\mbox{}\\

The discussion of the results begins with the single-task multi-variation scenario, focusing on the baseline methods TOSIL \cite{dasari2021transformers_one_shot} and MOSAIC \cite{mandi2022towards_more_generalizable_one_shot}. Specifically, Table \ref{table:occp_single_task_baseline_res} presents the performance of these baseline methods. 
\input{tables/ch3/baseline_single_task.tex}

As observed, both baseline methods suffer from the issue of \textbf{target-object misidentification}. This is evident from the \textit{Success with Wrong Object} column, where the success rate involving wrong objects is significant. Figure \ref{} provides an example of a pick-and-place rollout in which the task is technically completed, but the wrong object is manipulated.
\smalltodo{Add Figure}

To investigate the cause of these errors, test rollouts were performed using the first 2 and 10 actions generated by a hand-written policy, which has access to ground-state information. As noted, the success rate improves substantially by applying just 2 ground-truth actions. This supports the hypothesis outlined in Section \ref{sec:ocpl_problem}, suggesting that the end-to-end architecture trained with an action-centric loss produces a suboptimal embedding $z$ for the cognitive task. The embedding fails to sufficiently inform the control policy about the correct position of the target object.

Based on this consideration, the thesis proposal to inform the control module with both a low-level positional information (e.g., the bouding-box of the target object) and a control embedding generated by the MOSAIC-backbone has been tested. During this test, two models variations have been considered, the first named \textit{MOSAIC-GT-BB} is basically the MOSAIC model, with the Control Module that receives in input the control-embedding $z^{control}$ and the ground-truth bouding-box. The second, named \textit{MOSAIC-CTOD} is the architecture described in Section \ref{sec:ocpl_architecture_scm}.

\input{tables/ch3/ctod_single_task.tex}
The results are summarized in Table \ref{table:ctod_single_task_performance}. Several key observations can be made from these findings. For tasks involving multiple similar objects that change positions across different demonstrations (such as Pick-Place, Nut-Assembly, and Stack-Block), the use of positional information significantly enhances the system robustness. This enables the robot to consistently reach the target object and improves the overall success rate.

In contrast, for the Press-Button task, although the MOSAIC-CTOD method achieves a high success rate (95.56\% on average), it does not overcome the baseline method, which consistently solves the task with a 100\% success rate. This is because, once the button is reached, the positional information does not provide any additional guidance on how to complete the task. As a result, the robot tends to get stuck near the button, failing to execute the pushing action (Figure \ref{}).
\smalltodo{Add Figure}

Furthermore, the inclusion of positional information introduces a novel type of error. Specifically, since the robot behavior is conditioned by the bounding box, any error in its prediction can cause the robot to move incorrectly (Figure \ref{}). This error is significant, as in the Pick-Place task, the metric ``Place Wrong with Correct Object" reaches 11.25\%, and for the Nut-Assembly task, the same metric averages 22.22\%.

To address this issue, the Double-Control Module architecture has been proposed (Section \ref{sec:ocpl_architecture_dcm}), with the corresponding results presented in Section \ref{sec:ocpl_results_dcm}.

\paragraph*{Multi-task multi-variation scenario}\mbox{}\\
As in the previous paragraph, an evaluation of the two baseline methods was also conducted in the multi-task setting. The results are summarized in Table \ref{table:occp_multi_task_baseline_res}. The same general trends and behaviors observed in the single-task scenario are present here as well. Specifically, both baselines demonstrate the ability to produce reasonable trajectories that allow the robot to complete the task, though they manipulate the wrong object.

Furthermore, when comparing the results from Table \ref{table:occp_single_task_baseline_res} with those in Table \ref{table:occp_multi_task_baseline_res}, it is evident that the success rate decreases across all methods in the more complex multi-task setting. This highlights a potential issue with task balancing during the learning process.
\input{tables/ch3/baseline_multi_task.tex}

After evaluating the baseline, the proposed MOSAIC-CTOD was tested, using the same variations as in the previous section. Table \ref{table:ctod_multi_task_performance} summarizes the results obtained with the inclusion of positional information. Compared to the baseline, a general improvement is observed. However, caution is required when training the system in a multi-task setting. Specifically, when comparing the single-task performance (Table \ref{table:ctod_single_task}) to the multi-task performance, there is a noticeable drop in success rates for the same tasks. This decline is particularly evident in the system's ability to execute the "pick" primitive, especially when the nut object is involved. This observation underscores the importance of incorporating regularization techniques during multi-task learning to manage the varying complexities of different tasks.
\input{tables/ch3/ctod_multi_task.tex}

\subsubsection{Double control modules}
In this section the results obtained with the Double Control Module (Section \ref{sec:ocpl_architecture_dcm}) are going to be discussed.  
\label{sec:ocpl_results_dcm}
\paragraph*{Single-task multi-variation scenario}\mbox{}\\
\paragraph*{Multi-task multi-variation scenario}\mbox{}\\